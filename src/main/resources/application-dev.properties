# application-dev.properties (perfil dev)
# Nota: NO definir spring.profiles.active aqui. Activa el perfil con: -Dspring-boot.run.profiles=dev
# Habilita auto-config DB/JPA/Flyway que el perfil base desactiva
spring.autoconfigure.exclude=

# Cambiar puerto para evitar conflicto con Apache/XAMPP
server.port=8081

spring.datasource.url=jdbc:postgresql://localhost:5432/das_dev
spring.datasource.username=postgres
spring.datasource.password=postgres
spring.jpa.hibernate.ddl-auto=none
spring.jpa.open-in-view=false
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration
# Permite que Flyway cree un "baseline" si la BD ya tiene objetos previos (evita errores en entornos ya inicializados)
spring.flyway.baseline-on-migrate=true
spring.flyway.validate-on-migrate=false
# Logging
logging.level.org.springframework.jdbc.core=INFO
logging.level.org.hibernate.SQL=INFO

# ========================================
# CONFIGURACIÓN DE SUBIDA DE ARCHIVOS
# ========================================
# Tamaño máximo de archivo: 10MB
spring.servlet.multipart.max-file-size=10MB
# Tamaño máximo de request: 10MB
spring.servlet.multipart.max-request-size=10MB

# Tamaño máximo del body de JSON (para imágenes base64)
server.tomcat.max-http-form-post-size=10MB
server.tomcat.max-swallow-size=10MB

# ========================================
# CREDENCIALES SUPER ADMINISTRADOR
# ========================================
# Email del super administrador (único usuario ADMIN del sistema)
admin.email=admin@andinobus.com
# Contraseña del super administrador (en texto plano, se valida directamente)
# IMPORTANTE: Cambiar esta contraseña en producción usando variable de entorno
admin.password=${ADMIN_PASSWORD:Admin123!}
